import{a as R,C as S,d as h,f as L,u as k}from"./Space.cb2e4e91.js";import{N}from"./Tooltip.4b3a96e0.js";import{e as j}from"./light.8330dae1.js";import{z as $,h as f,A as b,p as C,G as D}from"./vendor.f9e4f91a.js";var E=R("ellipsis",{overflow:"hidden"},[S("line-clamp",`
 white-space: nowrap;
 display: inline-block;
 vertical-align: bottom;
 max-width: 100%;
 `),h("line-clamp",`
 display: -webkit-inline-box;
 -webkit-box-orient: vertical;
 `),h("cursor-pointer",`
 cursor: pointer;
 `)]);function x(i){return`${i}-ellipsis--line-clamp`}function T(i,n){return`${i}-ellipsis--cursor-${n}`}const M=Object.assign(Object.assign({},k.props),{expandTrigger:String,lineClamp:[Number,String],tooltip:{type:[Boolean,Object],default:!0}});var W=$({name:"Ellipsis",inheritAttrs:!1,props:M,setup(i,{slots:n,attrs:o}){const{mergedClsPrefixRef:t}=L(i),r=k("Ellipsis","-ellipsis",E,j,i,t),u=f(null),p=f(null),c=f(!1),m=b(()=>{const{lineClamp:e}=i,{value:l}=c;return e!==void 0?{textOverflow:"","-webkit-line-clamp":l?"":e}:{textOverflow:l?"":"ellipsis","-webkit-line-clamp":""}});function v(){let e=!1;const{value:l}=c;if(l)return!0;const{value:s}=u;if(s){const{lineClamp:a}=i;w(s),a!==void 0?e=s.scrollHeight<=s.offsetHeight:e=s.scrollWidth<=s.offsetWidth,O(s,e)}return e}const g=b(()=>i.expandTrigger==="click"?()=>{var e;const{value:l}=c;l&&((e=p.value)===null||e===void 0||e.setShow(!1)),c.value=!l}:void 0),y=()=>C("span",Object.assign({},D(o,{class:[`${t.value}-ellipsis`,i.lineClamp!==void 0?x(t.value):void 0,i.expandTrigger==="click"?T(t.value,"pointer"):void 0],style:m.value}),{ref:"triggerRef",onClick:g.value,onMouseenter:i.expandTrigger==="click"?v:void 0}),n);function w(e){if(!e)return;const l=m.value,s=x(t.value);i.lineClamp!==void 0?d(e,s,"add"):d(e,s,"remove");for(const a in l)e.style[a]!==l[a]&&(e.style[a]=l[a])}function O(e,l){const s=T(t.value,"pointer");i.expandTrigger==="click"&&!l?d(e,s,"add"):d(e,s,"remove")}function d(e,l,s){s==="add"?e.classList.contains(l)||e.classList.add(l):e.classList.contains(l)&&e.classList.remove(l)}return{mergedTheme:r,triggerRef:u,tooltipRef:p,handleClick:g,renderTrigger:y,getTooltipDisabled:v}},render(){var i;const{tooltip:n,renderTrigger:o,$slots:t}=this;if(n){const{mergedTheme:r}=this;return C(N,Object.assign({ref:"tooltipRef",placement:"top"},n,{getDisabled:this.getTooltipDisabled,theme:r.peers.Tooltip,themeOverrides:r.peerOverrides.Tooltip}),{trigger:o,default:(i=t.tooltip)!==null&&i!==void 0?i:t.default})}else return o()}});export{W as N};
