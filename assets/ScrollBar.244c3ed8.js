import{z as Ee,h as i,A as u,N as Ie,i as Oe,y as De,p as b,T as se,G as Ue}from"./vendor.f9e4f91a.js";import{c as f,K as _e,a as I,d as K,b as O,u as fe,f as je,h as Ve}from"./Space.cb2e4e91.js";import{a as C,s as ke,V as ce,o as D}from"./Icon.54169ce7.js";const Fe=(typeof window=="undefined"?!1:/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&!window.MSStream;function Ne(){return Fe}const{cubicBezierEaseInOut:ue}=_e;function Ae({name:o="fade-in",enterDuration:d="0.2s",leaveDuration:a="0.2s",enterCubicBezier:p=ue,leaveCubicBezier:R=ue}={}){return[f(`&.${o}-transition-enter-active`,{transition:`all ${d} ${p}!important`}),f(`&.${o}-transition-leave-active`,{transition:`all ${a} ${R}!important`}),f(`&.${o}-transition-enter-from, &.${o}-transition-leave-to`,{opacity:0}),f(`&.${o}-transition-leave-from, &.${o}-transition-enter-to`,{opacity:1})]}var Ge=I("scrollbar",`
 overflow: hidden;
 position: relative;
 z-index: auto;
 height: 100%;
 width: 100%;
`,[f(">",[I("scrollbar-container",`
 width: 100%;
 overflow: scroll;
 height: 100%;
 max-height: inherit;
 scrollbar-width: none;
 `,[f("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb",`
 width: 0;
 height: 0;
 display: none;
 `),f(">",[I("scrollbar-content",`
 box-sizing: border-box;
 min-width: 100%;
 `)])]),I("scrollbar-rail",`
 position: absolute;
 pointer-events: none;
 user-select: none;
 `,[K("horizontal",`
 left: 2px;
 right: 2px;
 bottom: 4px;
 height: var(--n-scrollbar-height);
 `,[f(">",[O("scrollbar",`
 height: var(--n-scrollbar-height);
 border-radius: var(--n-scrollbar-border-radius);
 right: 0;
 `)])]),K("vertical",`
 right: 4px;
 top: 2px;
 bottom: 2px;
 width: var(--n-scrollbar-width);
 `,[f(">",[O("scrollbar",`
 width: var(--n-scrollbar-width);
 border-radius: var(--n-scrollbar-border-radius);
 bottom: 0;
 `)])]),K("disabled",[f(">",[O("scrollbar",{pointerEvents:"none"})])]),f(">",[O("scrollbar",`
 position: absolute;
 cursor: pointer;
 pointer-events: all;
 background-color: var(--n-scrollbar-color);
 transition: background-color .2s var(--n-scrollbar-bezier);
 `,[Ae(),f("&:hover",{backgroundColor:"var(--n-scrollbar-color-hover)"})])])])])]);const Ke=Object.assign(Object.assign({},fe.props),{size:{type:Number,default:5},duration:{type:Number,default:0},scrollable:{type:Boolean,default:!0},xScrollable:Boolean,useUnifiedContainer:Boolean,triggerDisplayManually:Boolean,container:Function,content:Function,containerClass:String,containerStyle:[String,Object],contentClass:String,contentStyle:[String,Object],horizontalRailStyle:[String,Object],verticalRailStyle:[String,Object],onScroll:Function,onWheel:Function,onResize:Function,internalOnUpdateScrollLeft:Function}),de=Ee({name:"Scrollbar",props:Ke,inheritAttrs:!1,setup(o){const{mergedClsPrefixRef:d,inlineThemeDisabled:a}=je(o),p=i(null),R=i(null),y=i(null),S=i(null),X=i(null),B=i(null),T=i(null),z=i(null),M=i(null),H=i(null),Y=i(null),W=i(0),E=i(0),U=i(!1),_=i(!1);let j=!1,V=!1,h,v,q=0,J=0,Q=0,Z=0;const he=Ne(),k=u(()=>{const{value:e}=z,{value:n}=B,{value:t}=H;return e===null||n===null||t===null?0:Math.min(e,t*e/n+o.size*1.5)}),ve=u(()=>`${k.value}px`),F=u(()=>{const{value:e}=M,{value:n}=T,{value:t}=Y;return e===null||n===null||t===null?0:t*e/n+o.size*1.5}),be=u(()=>`${F.value}px`),me=u(()=>{const{value:e}=z,{value:n}=W,{value:t}=B,{value:l}=H;return e===null||t===null||l===null?0:n/(t-e)*(l-k.value)}),we=u(()=>`${me.value}px`),Se=u(()=>{const{value:e}=M,{value:n}=E,{value:t}=T,{value:l}=Y;return e===null||t===null||l===null?0:n/(t-e)*(l-F.value)}),pe=u(()=>`${Se.value}px`),ee=u(()=>{const{value:e}=z,{value:n}=B;return e!==null&&n!==null&&n>e}),ne=u(()=>{const{value:e}=M,{value:n}=T;return e!==null&&n!==null&&n>e}),g=u(()=>{const{container:e}=o;return e?e():R.value}),Re=u(()=>{const{content:e}=o;return e?e():y.value}),ge=x,xe=e=>{const{onResize:n}=o;n&&n(e),x()},ye=(e,n)=>{if(!o.scrollable)return;if(typeof e=="number"){P(e,n!=null?n:0,0,!1,"auto");return}const{left:t,top:l,index:c,elSize:s,position:m,behavior:r,el:w,debounce:L=!0}=e;(t!==void 0||l!==void 0)&&P(t!=null?t:0,l!=null?l:0,0,!1,r),w!==void 0?P(0,w.offsetTop,w.offsetHeight,L,r):c!==void 0&&s!==void 0?P(0,c*s,s,L,r):m==="bottom"?P(0,Number.MAX_SAFE_INTEGER,0,!1,r):m==="top"&&P(0,0,0,!1,r)},Be=(e,n)=>{if(!o.scrollable)return;const{value:t}=g;!t||(typeof e=="object"?t.scrollBy(e):t.scrollBy(e,n||0))};function P(e,n,t,l,c){const{value:s}=g;if(!!s){if(l){const{scrollTop:m,offsetHeight:r}=s;if(n>m){n+t<=m+r||s.scrollTo({left:e,top:n+t-r,behavior:c});return}}s.scrollTo({left:e,top:n,behavior:c})}}function Te(){$e(),Ce(),x()}function ze(){N()}function N(){Me(),Pe()}function Me(){v!==void 0&&window.clearTimeout(v),v=window.setTimeout(()=>{_.value=!1},o.duration)}function Pe(){h!==void 0&&window.clearTimeout(h),h=window.setTimeout(()=>{U.value=!1},o.duration)}function $e(){h!==void 0&&window.clearTimeout(h),U.value=!0}function Ce(){v!==void 0&&window.clearTimeout(v),_.value=!0}function We(e){const{onScroll:n}=o;n&&n(e),te()}function te(){const{value:e}=g;e&&(W.value=e.scrollTop,E.value=e.scrollLeft)}function Le(){const{value:e}=Re;e&&(B.value=e.offsetHeight,T.value=e.offsetWidth);const{value:n}=g;n&&(z.value=n.offsetHeight,M.value=n.offsetWidth);const{value:t}=X,{value:l}=S;t&&(Y.value=t.offsetWidth),l&&(H.value=l.offsetHeight)}function oe(){const{value:e}=g;e&&(W.value=e.scrollTop,E.value=e.scrollLeft,z.value=e.offsetHeight,M.value=e.offsetWidth,B.value=e.scrollHeight,T.value=e.scrollWidth);const{value:n}=X,{value:t}=S;n&&(Y.value=n.offsetWidth),t&&(H.value=t.offsetHeight)}function x(){!o.scrollable||(o.useUnifiedContainer?oe():(Le(),te()))}function le(e){var n;return!(!((n=p.value)===null||n===void 0)&&n.contains(e.target))}function Xe(e){e.preventDefault(),e.stopPropagation(),V=!0,D("mousemove",window,re,!0),D("mouseup",window,ie,!0),J=E.value,Q=e.clientX}function re(e){if(!V)return;h!==void 0&&window.clearTimeout(h),v!==void 0&&window.clearTimeout(v);const{value:n}=M,{value:t}=T,{value:l}=F;if(n===null||t===null)return;const s=(e.clientX-Q)*(t-n)/(n-l),m=t-n;let r=J+s;r=Math.min(m,r),r=Math.max(r,0);const{value:w}=g;if(w){w.scrollLeft=r;const{internalOnUpdateScrollLeft:L}=o;L&&L(r)}}function ie(e){e.preventDefault(),e.stopPropagation(),C("mousemove",window,re,!0),C("mouseup",window,ie,!0),V=!1,x(),le(e)&&N()}function He(e){e.preventDefault(),e.stopPropagation(),j=!0,D("mousemove",window,A,!0),D("mouseup",window,G,!0),q=W.value,Z=e.clientY}function A(e){if(!j)return;h!==void 0&&window.clearTimeout(h),v!==void 0&&window.clearTimeout(v);const{value:n}=z,{value:t}=B,{value:l}=k;if(n===null||t===null)return;const s=(e.clientY-Z)*(t-n)/(n-l),m=t-n;let r=q+s;r=Math.min(m,r),r=Math.max(r,0);const{value:w}=g;w&&(w.scrollTop=r)}function G(e){e.preventDefault(),e.stopPropagation(),C("mousemove",window,A,!0),C("mouseup",window,G,!0),j=!1,x(),le(e)&&N()}Ie(()=>{const{value:e}=ne,{value:n}=ee,{value:t}=d,{value:l}=X,{value:c}=S;l&&(e?l.classList.remove(`${t}-scrollbar-rail--disabled`):l.classList.add(`${t}-scrollbar-rail--disabled`)),c&&(n?c.classList.remove(`${t}-scrollbar-rail--disabled`):c.classList.add(`${t}-scrollbar-rail--disabled`))}),Oe(()=>{o.container||x()}),De(()=>{h!==void 0&&window.clearTimeout(h),v!==void 0&&window.clearTimeout(v),C("mousemove",window,A,!0),C("mouseup",window,G,!0)});const Ye=fe("Scrollbar","-scrollbar",Ge,ke,o,d),ae=u(()=>{const{common:{cubicBezierEaseInOut:e,scrollbarBorderRadius:n,scrollbarHeight:t,scrollbarWidth:l},self:{color:c,colorHover:s}}=Ye.value;return{"--n-scrollbar-bezier":e,"--n-scrollbar-color":c,"--n-scrollbar-color-hover":s,"--n-scrollbar-border-radius":n,"--n-scrollbar-width":l,"--n-scrollbar-height":t}}),$=a?Ve("scrollbar",void 0,ae,o):void 0;return Object.assign(Object.assign({},{scrollTo:ye,scrollBy:Be,sync:x,syncUnifiedContainer:oe,handleMouseEnterWrapper:Te,handleMouseLeaveWrapper:ze}),{mergedClsPrefix:d,containerScrollTop:W,wrapperRef:p,containerRef:R,contentRef:y,yRailRef:S,xRailRef:X,needYBar:ee,needXBar:ne,yBarSizePx:ve,xBarSizePx:be,yBarTopPx:we,xBarLeftPx:pe,isShowXBar:U,isShowYBar:_,isIos:he,handleScroll:We,handleContentResize:ge,handleContainerResize:xe,handleYScrollMouseDown:He,handleXScrollMouseDown:Xe,cssVars:a?void 0:ae,themeClass:$==null?void 0:$.themeClass,onRender:$==null?void 0:$.onRender})},render(){var o;const{$slots:d,mergedClsPrefix:a,triggerDisplayManually:p}=this;if(!this.scrollable)return(o=d.default)===null||o===void 0?void 0:o.call(d);const R=()=>{var y,S;return(y=this.onRender)===null||y===void 0||y.call(this),b("div",Ue(this.$attrs,{role:"none",ref:"wrapperRef",class:[`${a}-scrollbar`,this.themeClass],style:this.cssVars,onMouseenter:p?void 0:this.handleMouseEnterWrapper,onMouseleave:p?void 0:this.handleMouseLeaveWrapper}),[this.container?(S=d.default)===null||S===void 0?void 0:S.call(d):b("div",{role:"none",ref:"containerRef",class:[`${a}-scrollbar-container`,this.containerClass],style:this.containerStyle,onScroll:this.handleScroll,onWheel:this.onWheel},b(ce,{onResize:this.handleContentResize},{default:()=>b("div",{ref:"contentRef",role:"none",style:[{width:this.xScrollable?"fit-content":null},this.contentStyle],class:[`${a}-scrollbar-content`,this.contentClass]},d)})),b("div",{ref:"yRailRef",class:`${a}-scrollbar-rail ${a}-scrollbar-rail--vertical`,style:this.horizontalRailStyle,"aria-hidden":!0},b(se,{name:"fade-in-transition"},{default:()=>this.needYBar&&this.isShowYBar&&!this.isIos?b("div",{class:`${a}-scrollbar-rail__scrollbar`,style:{height:this.yBarSizePx,top:this.yBarTopPx},onMousedown:this.handleYScrollMouseDown}):null})),b("div",{ref:"xRailRef",class:`${a}-scrollbar-rail ${a}-scrollbar-rail--horizontal`,style:this.verticalRailStyle,"aria-hidden":!0},b(se,{name:"fade-in-transition"},{default:()=>this.needXBar&&this.isShowXBar&&!this.isIos?b("div",{class:`${a}-scrollbar-rail__scrollbar`,style:{width:this.xBarSizePx,left:this.xBarLeftPx},onMousedown:this.handleXScrollMouseDown}):null}))])};return this.container?R():b(ce,{onResize:this.handleContainerResize},{default:R})}});var en=de;const nn=de;export{en as N,nn as X,Ae as f};
